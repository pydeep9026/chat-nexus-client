import Picker from 'emoji-picker-react';
import annyang from 'annyang';
import { IoIosSend } from 'react-icons/io';
import { useEffect, useRef, useState } from 'react';
import { toast, Toaster } from 'react-hot-toast';
import Record from './record.gif'
import './chatinput.css'


export default function Chatinput({handlesendmsg}) {
  const [show,setshow]=useState(false)
  const [msg,setmsg]=useState("")
  const pickerRef = useRef(null);
  const [isListening, setIsListening] = useState(false);

  const sendchat=(e)=>{
    e.preventDefault()
    if(msg.length>0){
      handlesendmsg(msg)
      setmsg('')
    }
  }

  const handleemojiclick=()=>{
    setshow(!show)
  }
  const targetemoji=(event,chosenEmoji)=>{
    let message=msg
    message+=chosenEmoji.emoji
    setmsg(message)
  }
 
  useEffect(() => {
    if (annyang) {
      annyang.addCallback('result', (phrases) => {
        const spokenMsg = phrases[0];
        setmsg(spokenMsg);
        document.querySelector('input[type="text"].msginput').value = spokenMsg;
      });
      return () => {
        annyang.abort();
      };
    }
  }, []);

  const handleSpeechToggle = () => {
    if (!isListening) {
      setIsListening(true);
      toast.success("voice recognition started!")
      annyang.start({ autoRestart: false });
    } else {
      toast.error("voice recognition stopped!")
      setIsListening(false);
      annyang.abort();
    }
  };

 


  const handleClickOutside = (event) => {
    if (pickerRef.current && !pickerRef.current.contains(event.target)) {
      setshow(false);
    }
  };

  useEffect(() => {
    if (show) {
      document.addEventListener('mousedown', handleClickOutside);
    } else {
      document.removeEventListener('mousedown', handleClickOutside);
    }

    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, [show]);

 


  return (<>
  <Toaster/>
    <div className='chatinput'>
        <form onSubmit={(e)=>sendchat(e)} style={{bottom:"0vh",position:"absolute"}} >
          
       
        <input className='msginput' type="text" value={msg} onChange={(e)=>setmsg(e.target.value)} placeholder="write a message..."/>
        <span className='mic' onClick={handleSpeechToggle}>
          { !isListening ?
        <svg enable-background="new 0 0 256.699 545.055" height="48" viewBox="0 0 240.699 10.055" width="68" xmlns="http://www.w3.org/2000/svg"><path d="m198.47 176.721-65.416-50.706c-3.929-3.045-4.645-8.698-1.6-12.627 3.045-3.929 8.698-4.645 12.627-1.6l65.416 50.706c3.929 3.045 4.645 8.698 1.6 12.627-3.045 3.929-8.698 4.645-12.627 1.6z" fill="#9797f7"/><path d="m203.973 179.603c-2.141 0-4.296-.683-6.115-2.092l-65.416-50.706c-2.111-1.636-3.458-3.997-3.794-6.647-.335-2.65.381-5.272 2.017-7.383 3.378-4.358 9.672-5.156 14.03-1.777l65.416 50.706c4.358 3.378 5.155 9.672 1.777 14.03-1.968 2.539-4.927 3.869-7.915 3.869zm-65.396-68.698c-2.391 0-4.757 1.064-6.332 3.096-1.309 1.689-1.882 3.787-1.614 5.906.269 2.12 1.347 4.008 3.036 5.317l65.416 50.706c3.485 2.703 8.521 2.065 11.224-1.422 2.702-3.486 2.064-8.521-1.422-11.224l-65.416-50.706c-1.454-1.127-3.179-1.673-4.892-1.673z" fill="#112c41"/><path d="m122.199 130.055h20v387h-20z" fill="#9797f7"/><path d="m142.199 518.055h-20c-.552 0-1-.448-1-1v-387c0-.552.448-1 1-1h20c.552 0 1 .448 1 1v387c0 .552-.448 1-1 1zm-19-2h18v-385h-18z" fill="#112c41"/><path d="m165.449 138.705c-2.71 3.51-5.84 6.5-9.26 8.97v.01c-15.94 11.57-38.21 11.78-54.57-.9l-82.99-64.32c-18.24-14.15-22.78-39.41-11.47-58.83 1-1.72 2.13-3.39 3.38-5.01 7.7-9.93 18.69-15.8 30.25-17.26 11.55-1.47 23.66 1.48 33.59 9.17l82.99 64.33c19.86 15.4 23.48 43.98 8.08 63.84z" fill="#ffa9dc"/><path d="m129.534 157.279c-10.099 0-20.194-3.244-28.528-9.704l-82.99-64.32c-18.353-14.237-23.392-40.084-11.722-60.123 1.007-1.732 2.168-3.454 3.453-5.117 7.615-9.821 18.594-16.086 30.916-17.642 12.309-1.567 24.501 1.761 34.328 9.372l82.99 64.33c9.816 7.612 16.082 18.59 17.642 30.913 1.56 12.322-1.772 24.513-9.383 34.329-2.677 3.468-5.83 6.529-9.37 9.1-.03.028-.061.054-.094.078-8.079 5.864-17.662 8.784-27.242 8.784zm-82.923-155.284c-1.89 0-3.792.12-5.696.363-11.793 1.489-22.3 7.484-29.586 16.881-1.229 1.593-2.342 3.242-3.305 4.899-11.169 19.176-6.346 43.912 11.218 57.537l82.99 64.319c15.511 12.023 37.402 12.408 53.276.949.03-.028.062-.055.096-.079 3.424-2.473 6.47-5.424 9.054-8.771 0 0 .001-.001.001-.001 7.284-9.394 10.473-21.062 8.98-32.854s-7.489-22.298-16.883-29.583l-82.99-64.33c-7.884-6.105-17.357-9.33-27.155-9.33zm109.577 145.69h.01z" fill="#112c41"/><path d="m156.589 144.255s-.11 1.24-.4 3.42v.01c-15.94 11.57-38.21 11.78-54.57-.9l-82.99-64.32c-18.24-14.15-22.78-39.41-11.47-58.83l.01.01c3.53 39.41 149.42 120.61 149.42 120.61z" fill="#ff90d8"/><path d="m129.439 157.31c-9.954 0-19.979-3.174-28.437-9.729l-82.987-64.327c-20.265-15.709-23.973-44.975-8.265-65.24 7.613-9.822 18.59-16.086 30.91-17.639 12.314-1.565 24.508 1.761 34.33 9.375l82.988 64.327c20.265 15.708 23.973 44.975 8.265 65.24-9.152 11.806-22.908 17.993-36.804 17.993zm-82.827-155.314c-1.891 0-3.794.12-5.7.363-11.79 1.486-22.294 7.481-29.58 16.88-15.033 19.394-11.485 47.401 7.908 62.434l82.988 64.327c9.395 7.282 21.061 10.469 32.855 8.977 11.792-1.494 22.296-7.49 29.579-16.885s10.47-21.063 8.977-32.854c-1.494-11.792-7.491-22.296-16.886-29.579l-82.988-64.329c-7.879-6.107-17.352-9.334-27.153-9.334z" fill="#112c41"/><path d="m121.786 92.204-23.711-18.379 21.749-28.058-11.066-8.577-21.748 28.058-19.759-15.316 21.748-28.058-9.484-7.352-55.75 71.923 9.484 7.352 21.749-28.058 19.759 15.316-21.749 28.058 11.066 8.577 21.748-28.058 23.711 18.379z" fill="#9797f7"/><path d="m64.074 118.69c-.221 0-.437-.073-.613-.209l-11.065-8.577c-.209-.163-.346-.402-.379-.665s.04-.528.202-.738l21.137-27.267-18.18-14.092-21.136 27.268c-.339.436-.967.515-1.403.178l-9.484-7.352c-.209-.163-.346-.402-.379-.665s.04-.528.202-.738l55.75-71.923c.339-.437.967-.516 1.403-.178l9.484 7.352c.209.163.346.402.379.665s-.04.528-.202.738l-21.137 27.267 18.179 14.091 21.136-27.268c.339-.436.966-.515 1.403-.178l11.065 8.577c.209.163.346.402.379.665s-.04.528-.202.738l-21.135 27.268 22.921 17.766c.437.338.516.967.178 1.403l-12.252 15.808c-.163.209-.402.346-.665.379-.26.034-.528-.04-.738-.202l-22.922-17.766-21.136 27.268c-.163.209-.402.346-.665.379-.041.005-.083.008-.125.008zm-9.663-9.755 9.485 7.352 21.136-27.268c.163-.209.402-.346.665-.379.261-.034.529.04.738.202l22.92 17.767 11.027-14.227-22.92-17.767c-.209-.163-.346-.402-.379-.665s.04-.528.202-.738l21.137-27.268-9.485-7.352-21.137 27.268c-.339.437-.966.516-1.403.178l-19.759-15.316c-.209-.163-.346-.402-.379-.665s.04-.528.202-.738l21.137-27.267-7.904-6.126-54.526 70.341 7.904 6.126 21.136-27.268c.339-.437.967-.515 1.403-.178l19.759 15.318c.209.163.346.402.379.665s-.04.528-.202.738z" fill="#112c41"/><path d="m139.551 59.491-57.268 73.882c-1.611 2.078-1.232 5.069.846 6.68l18.763 14.543c22.48 17.425 54.829 13.327 72.255-9.153 17.425-22.48 13.327-54.829-9.153-72.255l-18.763-14.543c-2.078-1.611-5.069-1.233-6.68.846z" fill="#9797f7"/><path d="m133.336 166.4c-11.576 0-22.759-3.808-32.057-11.014l-18.763-14.543c-2.511-1.946-2.97-5.572-1.024-8.083l57.268-73.882c1.946-2.511 5.572-2.97 8.083-1.024l18.763 14.543c11.083 8.591 18.158 20.984 19.92 34.896s-1.999 27.678-10.59 38.761-20.984 18.158-34.896 19.92c-2.241.286-4.48.426-6.704.426zm7.006-106.297-57.268 73.882c-1.271 1.639-.971 4.006.668 5.276l18.763 14.543c22.008 17.06 53.791 13.033 70.851-8.975s13.033-53.792-8.975-70.852l-18.763-14.543c-.794-.616-1.776-.886-2.776-.759-.997.128-1.885.634-2.5 1.428z" fill="#112c41"/><path d="m147.699 210.055h-31l2.5-89h26z" fill="#9797f7"/><path d="m147.699 211.055h-31c-.27 0-.529-.109-.717-.303s-.291-.456-.283-.726l2.5-89c.015-.541.458-.972 1-.972h26c.542 0 .984.431 1 .972l2.5 89c.008.27-.094.532-.283.726-.188.194-.447.303-.717.303zm-29.972-2h28.943l-2.444-87h-24.056z" fill="#112c41"/><circle cx="132.199" cy="114.555" fill="#dedffe" r="14.5"/><path d="m132.199 130.055c-8.547 0-15.5-6.953-15.5-15.5s6.953-15.5 15.5-15.5 15.5 6.953 15.5 15.5-6.953 15.5-15.5 15.5zm0-29c-7.444 0-13.5 6.056-13.5 13.5s6.056 13.5 13.5 13.5 13.5-6.056 13.5-13.5-6.056-13.5-13.5-13.5z" fill="#112c41"/><path d="m242.199 544.055h-220c-7.456 0-13.5-6.044-13.5-13.5 0-7.456 6.044-13.5 13.5-13.5h220c7.456 0 13.5 6.044 13.5 13.5 0 7.456-6.044 13.5-13.5 13.5z" fill="#9797f7"/><path d="m242.199 545.055h-220c-7.995 0-14.5-6.505-14.5-14.5s6.505-14.5 14.5-14.5h220c7.995 0 14.5 6.505 14.5 14.5s-6.505 14.5-14.5 14.5zm-220-27c-6.893 0-12.5 5.607-12.5 12.5s5.607 12.5 12.5 12.5h220c6.893 0 12.5-5.607 12.5-12.5s-5.607-12.5-12.5-12.5z" fill="#112c41"/></svg>
       : <img src={Record} alt="my-gif" />
          }
         </span>






        <span onClick={handleemojiclick}><svg enable-background="new 0 0 281.645 237.616" height="42" viewBox="0 0 281.645 237.616" width="42" xmlns="http://www.w3.org/2000/svg"><path d="m6.688 179.038s30.589-8.622 67.17 1.467 19.442-68.118 19.442-68.118l-38.054-19.023z" fill="#ff90d8"/><path d="m79.932 182.401c-1.968.001-4.083-.311-6.339-.933-35.869-9.894-66.33-1.554-66.634-1.468-.391.105-.808-.028-1.058-.346-.25-.319-.283-.758-.083-1.11l48.558-85.674c.262-.463.84-.638 1.317-.401l38.054 19.023c.27.135.465.386.53.681.462 2.109 11.147 51.828-4.122 66.304-2.757 2.614-6.181 3.924-10.223 3.924zm-42.804-7.763c10.724 0 23.484 1.176 36.996 4.902 6.169 1.7 11.1.856 14.654-2.515 13.711-12.999 4.704-58.83 3.642-63.96l-36.772-18.382-46.953 82.842c4.376-.971 14.745-2.887 28.433-2.887z" fill="#112c41"/><path d="m4.608 183.659c-2.456-1.25-3.433-4.254-2.182-6.71l36.862-72.399c1.25-2.456 4.254-3.433 6.71-2.182 2.456 1.25 3.433 4.254 2.182 6.71l-36.862 72.399c-1.251 2.456-4.255 3.433-6.71 2.182z" fill="#ffa9dc"/><path d="m6.861 185.202c-.913 0-1.839-.209-2.707-.65v-.001c-2.943-1.499-4.118-5.112-2.62-8.055l36.862-72.399c1.499-2.94 5.112-4.115 8.055-2.62 2.943 1.5 4.118 5.113 2.62 8.056l-36.862 72.399c-1.057 2.074-3.165 3.27-5.348 3.27zm36.879-82.377c-1.454 0-2.858.797-3.562 2.18l-36.862 72.399c-.483.949-.568 2.03-.239 3.043.33 1.013 1.034 1.837 1.984 2.32v.001c1.961 1.001 4.367.216 5.365-1.745l36.862-72.399c.998-1.959.215-4.366-1.745-5.365-.578-.294-1.195-.434-1.803-.434z" fill="#112c41"/><circle cx="252.067" cy="136.903" fill="#ffd6c0" r="28.57"/><path d="m241.57 163.475c14.198 5.611 30.197-.943 36.475-14.68-7.79 8.151-20.023 11.224-31.158 6.834-14.673-5.801-21.871-22.405-16.07-37.078.19-.475.391-.941.602-1.399-2.491 2.598-4.517 5.708-5.918 9.255-5.802 14.672 1.396 31.266 16.069 37.068z" fill="#f5b9ab"/><path d="m252.074 166.489c-3.675 0-7.354-.694-10.874-2.086-7.664-3.028-13.76-9.178-16.726-16.871-.199-.515.058-1.094.573-1.292s1.094.058 1.293.573c2.765 7.173 8.449 12.906 15.595 15.73 6.849 2.705 14.342 2.583 21.098-.346s11.968-8.313 14.675-15.162 2.584-14.342-.345-21.099-8.314-11.968-15.163-14.675c-13.344-5.271-28.688.7-34.934 13.596-.24.498-.839.703-1.336.465-.497-.241-.705-.839-.464-1.336 6.699-13.833 23.157-20.239 37.469-14.584 7.346 2.902 13.121 8.492 16.263 15.739 3.141 7.247 3.273 15.283.37 22.628-2.903 7.346-8.492 13.122-15.739 16.263-3.774 1.637-7.763 2.457-11.755 2.457z" fill="#112c41"/><path d="m236.556 139.677c-.015 0-.03 0-.045-.001-.552-.024-.979-.492-.955-1.044.218-4.886 2.275-9.398 5.792-12.706 3.525-3.313 8.094-5.022 12.866-4.811 5.387.24 10.321 2.925 13.537 7.366.324.447.224 1.073-.223 1.396-.447.324-1.072.224-1.396-.223-2.857-3.945-7.233-6.329-12.007-6.542-4.225-.195-8.278 1.328-11.407 4.27-3.136 2.949-4.97 6.976-5.165 11.339-.022.537-.465.956-.997.956z" fill="#112c41"/><circle cx="144.948" cy="134.107" fill="#ffd6c0" r="102.5"/><path d="m133.329 32.267c.343-.039.684-.06 1.027-.096l8.051 11.645c-53.075 6.21-90.861 51.583-84.894 103.888 5.978 52.4 53.607 91.917 106.832 85.845 5.286-.603 10.434-1.613 15.399-3.005-7.338 2.639-15.09 4.479-23.177 5.402-56.245 6.417-107.041-33.976-113.458-90.221s33.975-107.041 90.22-113.458z" fill="#f5b9ab"/><path d="m144.871 237.613c-51.865 0-96.739-39.038-102.756-91.774-6.469-56.702 34.399-108.096 91.101-114.565 27.468-3.136 54.512 4.616 76.15 21.823 21.638 17.206 35.281 41.81 38.415 69.277s-4.616 54.512-21.823 76.149c-17.207 21.639-41.81 35.281-69.278 38.415-3.966.454-7.908.675-11.809.675zm-100.769-92.001c6.344 55.607 56.746 95.673 112.351 89.341 26.937-3.073 51.064-16.453 67.939-37.673 16.874-21.221 24.475-47.742 21.401-74.679-3.073-26.937-16.452-51.064-37.672-67.938-21.22-16.876-47.741-24.474-74.679-21.402-55.606 6.344-95.684 56.745-89.34 112.351z" fill="#112c41"/><ellipse cx="132.603" cy="114.441" fill="#112c41" rx="6.828" ry="9.104" transform="matrix(.9936 -.1134 .1134 .9936 -12.1176 15.7687)"/><ellipse cx="125.121" cy="85.792" fill="#112c41" rx="14.13" ry="9.336" transform="matrix(.9664 -.2572 .2572 .9664 -17.8554 35.0648)"/><ellipse cx="210.784" cy="145.476" fill="#ffa9dc" rx="12.121" ry="8.009" transform="matrix(.9762 -.2169 .2169 .9762 -26.5388 49.1895)"/><ellipse cx="117.434" cy="138.776" fill="#ffa9dc" rx="8.009" ry="12.121" transform="matrix(.3384 -.941 .941 .3384 -52.8976 202.311)"/><g fill="#112c41"><ellipse cx="213.569" cy="92.495" rx="8.6" ry="13.016" transform="matrix(.471 -.8821 .8821 .471 31.3821 237.3219)"/><path d="m209.509 84.741c2.289 0 4.835.686 7.168 1.932 2.725 1.455 4.897 3.496 6.116 5.746.622 1.147 1.512 3.357.493 5.265-.871 1.63-2.933 2.565-5.658 2.565-2.289 0-4.835-.686-7.169-1.932-2.725-1.455-4.897-3.496-6.116-5.746-.622-1.147-1.512-3.357-.493-5.265.872-1.63 2.934-2.565 5.659-2.565m0-2c-3.347 0-6.149 1.239-7.422 3.623-2.237 4.19 1.09 10.331 7.431 13.717 2.732 1.459 5.577 2.168 8.111 2.168 3.347 0 6.149-1.239 7.422-3.623 2.237-4.19-1.09-10.331-7.431-13.717-2.732-1.459-5.578-2.168-8.111-2.168z"/><ellipse cx="201.974" cy="119.508" rx="9.104" ry="6.828" transform="matrix(.2478 -.9688 .9688 .2478 36.1365 285.5606)"/><path d="m149.022 132.298c.612 12.48 7.67 22.463 17.062 23.215 9.391.752 17.949-7.979 20.539-20.203z"/><path d="m167.207 156.557c-.4 0-.801-.016-1.203-.048-9.771-.782-17.333-10.944-17.98-24.163-.014-.287.096-.566.303-.767.207-.2.491-.302.776-.279l37.601 3.012c.287.023.55.169.722.399s.236.523.177.805c-2.632 12.413-11.091 21.041-20.396 21.041zm-17.112-23.17c.951 11.642 7.587 20.45 16.068 21.129 8.483.683 16.435-6.96 19.227-18.302z"/></g><path d="m173.68 153.522c-2.656-4.465-8.488-7.193-14.877-6.465-1.631.186-3.176.584-4.599 1.155 3.015 4.203 7.152 6.922 11.881 7.3 2.72.218 5.37-.36 7.822-1.591-.073-.135-.149-.268-.227-.399z" fill="#ffa6e0"/><path d="m167.224 156.558c-.406 0-.812-.017-1.22-.049-4.843-.389-9.323-3.128-12.613-7.715-.179-.25-.233-.567-.148-.862.086-.295.302-.534.588-.648 1.539-.618 3.173-1.028 4.859-1.22 6.559-.756 12.931 2.042 15.849 6.945.085.143.168.289.247.435.129.238.156.518.075.776s-.263.473-.505.594c-2.308 1.159-4.702 1.744-7.132 1.744zm-11.391-7.864c2.838 3.458 6.465 5.512 10.33 5.821 2.134.169 4.25-.177 6.304-1.033-2.664-3.896-8.015-6.061-13.552-5.432-1.054.121-2.087.337-3.082.644z" fill="#112c41"/><path d="m237.107 88.289c-9.41-5.93-23.95-11.33-39-14-22-3.91-47-7-74-2-15.697 2.907-32.18 9.41-46 15-9.98 4.03-20.18 11.17-28 17-4.05 3.01-7.22-2.01-10.5 1.5-2.75-4.59-3.4-7.28-3.3-8.85.12-1.85 1.3-2.15 1.3-2.15s4.5-70.5 60.5-87.5c4.505-1.368 18.754-3.138 24-4 73-12 108 19 115 85z" fill="#ffa9dc"/><path d="m203.818 57.608c-7.471 2.949-21.087 3.696-36.295 3.932-15.179.226-29.705-3.932-37.87-6.301 1.097-15.903 10.783-25.565 27.874-27.118 10.824-.983 23.185 2.536 31.251 9.092 5.574 4.531 12.453 11.549 15.04 20.395z" fill="#fcaa51"/><path d="m166.327 62.549c-15.07 0-29.244-4.112-36.952-6.35-.452-.131-.751-.56-.719-1.028 1.138-16.503 11.359-26.463 28.781-28.046 11.211-1.025 23.76 2.636 31.972 9.312 8.061 6.554 13.231 13.583 15.368 20.892.145.496-.112 1.021-.593 1.211-7.956 3.14-22.315 3.778-36.646 4.001-.403.005-.808.008-1.211.008zm-35.613-8.043c7.977 2.311 22.078 6.247 36.795 6.034 12.972-.201 27.184-.787 35.073-3.539-2.163-6.522-7.134-13.077-14.433-19.012-7.829-6.364-19.812-9.849-30.53-8.872-16.28 1.478-25.567 10.251-26.905 25.389z" fill="#112c41"/><path d="m207.147 75.939c-2.928-.658-6.139-1.278-9.673-1.858-10.746-1.759-24.492-3.135-42.363-3.696-2.554-.079-5.059-.108-7.522-.069-5.579.059-10.908.403-15.994.983-.088.01-.167.02-.255.03l-1.063-6.762c-.617-3.214-.807-6.34-.624-9.328 8.31-1.061 21.101-2.828 36.454-1.95 17.176.983 29 2 37.711 4.319 2.411 7.863 3.329 18.331 3.329 18.331z" fill="#ffa9dc"/><path d="m207.147 76.939c-.073 0-.146-.008-.219-.024-2.932-.659-6.167-1.28-9.616-1.847-11.822-1.936-26.031-3.175-42.232-3.683-2.702-.083-5.148-.105-7.475-.068-5.365.057-10.711.385-15.896.976l-.258.031c-.533.054-1.015-.311-1.098-.839l-1.063-6.763c-.612-3.186-.827-6.408-.634-9.545.029-.479.395-.869.871-.931l1.064-.136c8.271-1.062 20.771-2.67 35.574-1.819 17.396.995 29.177 2.025 37.911 4.35.334.089.598.344.699.674 2.414 7.873 3.331 18.104 3.369 18.537.028.317-.098.63-.338.84-.185.161-.419.247-.659.247zm-57.333-7.639c1.683 0 3.444.028 5.328.086 16.289.512 30.586 1.759 42.494 3.709 2.965.487 5.776 1.015 8.377 1.572-.326-2.982-1.249-10.301-2.991-16.233-8.519-2.182-20.063-3.178-36.972-4.146-14.62-.833-27.008.754-35.205 1.807l-.234.03c-.101 2.709.116 5.481.648 8.254l.92 5.85c5.032-.55 10.21-.856 15.399-.911.732-.013 1.476-.018 2.236-.018z" fill="#112c41"/><path d="m78.107 87.289c-9.98 4.03-20.18 11.17-28 17-5.44 1.51-7.67 2.43-11.8 1.65.12-1.85-1.2-.65-1.2-.65s3.21-82.38 65-98c0-0-39 24-24 80z" fill="#ff90d8"/><path d="m39.867 107.29c-.035 0-.07-.002-.106-.006-.312-.033-.591-.211-.752-.48-2.423-4.045-3.581-7.217-3.44-9.428.093-1.436.729-2.278 1.34-2.712.267-3.39 2.027-21.312 10.423-40.229 8.595-19.365 26.084-43.781 60.594-50.128 44.038-8.101 74.207-4.925 94.946 9.992 18.762 13.494 29.955 36.96 35.225 73.85.051.36-.097.72-.387.939-.29.22-.677.264-1.009.116-1.463-.649-2.924-1.487-4.615-2.457-4.881-2.802-11.566-6.639-25.169-9.834-2.814-.671-5.936-1.303-9.281-1.878-11.476-1.97-25.46-3.229-41.562-3.746-8.048-.257-16.052.062-23.793.954-3.186.37-6.309.821-9.282 1.342-37.366 6.545-60.676 22.525-71.246 31.469-2.268 1.918-4.673 1.484-6.605 1.136-2.087-.377-3.327-.527-4.551.783-.189.203-.454.317-.73.317zm110.083-105.329c-12.249 0-26.065 1.444-41.662 4.312-33.628 6.185-50.701 30.015-59.103 48.916-9.147 20.58-10.309 39.962-10.32 40.155-.024.437-.329.807-.752.914-.009.008-.481.213-.549 1.245-.073 1.141.335 3.307 2.564 7.249 1.766-1.184 3.666-.84 5.375-.532 1.829.332 3.41.616 4.957-.694 10.724-9.073 34.363-25.285 72.193-31.912 3.011-.526 6.172-.983 9.397-1.357 7.838-.903 15.941-1.231 24.087-.966 16.194.519 30.27 1.788 41.837 3.773 3.387.582 6.551 1.223 9.403 1.902 13.884 3.262 20.715 7.183 25.704 10.045.988.567 1.896 1.088 2.76 1.545-5.294-35.233-16.165-57.708-34.138-70.635-12.993-9.345-29.865-13.96-51.753-13.96z" fill="#112c41"/><circle cx="31.503" cy="123.397" fill="#ffd6c0" r="30.5"/><path d="m56.71 140.751c-1.872 1.468-4.348 2.765-6.609 3.783-15.371 6.903-33.567-.537-40.466-15.9-4.529-10.079-2.78-20.631 3.054-29.104-10.872 8.418-15.348 22.776-9.464 35.886 6.889 15.366 24.944 22.237 40.316 15.334 5.283-2.369 10.111-5.54 13.169-9.999z" fill="#f5b9ab"/><path d="m31.48 154.899c-15.785 0-29.443-11.882-31.274-27.932-.954-8.359 1.405-16.591 6.642-23.176 5.237-6.586 12.725-10.738 21.084-11.691 16.289-1.862 31.445 9.286 34.509 25.369.103.543-.253 1.066-.795 1.17-.542.102-1.066-.253-1.17-.795-2.87-15.062-17.065-25.492-32.318-23.758-7.829.894-14.841 4.782-19.746 10.949-4.904 6.168-7.113 13.876-6.22 21.705 1.844 16.162 16.49 27.808 32.654 25.967 8.004-.914 16.072-5.722 21.056-12.547.326-.445.952-.543 1.397-.218.446.326.544.951.218 1.397-5.302 7.262-13.903 12.379-22.444 13.354-1.207.139-2.406.206-3.593.206z" fill="#112c41"/><path d="m49.161 127.121c-.535 0-.979-.424-.999-.964-.169-4.676-2.099-9.007-5.433-12.195-3.327-3.181-7.657-4.823-12.188-4.679-5.119.186-9.831 2.701-12.927 6.903-.328.445-.954.539-1.398.212-.445-.327-.539-.953-.212-1.397 3.461-4.697 8.733-7.509 14.465-7.716 5.074-.194 9.922 1.673 13.643 5.231 3.713 3.55 5.862 8.368 6.05 13.568.02.552-.411 1.016-.963 1.035-.013.002-.026.002-.038.002z" fill="#112c41"/></svg></span>
  
        <span className='sendbtn' onClick={(e)=>sendchat(e)}  ><IoIosSend className='sendicon' color='' /></span>

        </form>

    </div>
    <div className='emojipickercloser'>
    {
      show && <div className='emojipicker' ref={pickerRef}><Picker onEmojiClick={targetemoji}/></div>
    }
    </div>
    </>
  )
}